<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chinasofti.ssm01.dao.FileInfoDao">
	
	<insert id="addFileInfo" parameterType="FileInfo">
		insert into file_info(file_name,file_url) values(#{fileName},#{fileUrl})
	</insert>
	
	<resultMap type="FileInfo" id="filemap">
		<id column="file_id" property="fileId"/>
		<result column="file_name" property="fileName"/>
		<result column="file_url" property="fileUrl"/>
	</resultMap>
	
	<select id="getFileInfos" resultMap="filemap">
		select * from file_info
		<where>
			<if test="fileId != null and fileId != 0">
				and file_id = #{fileId}
			</if>
		</where>
	</select>
	
	<!-- <select id="getFileInfos" parameterType="fileInfo" resultMap="usermap">
		select * from user_info
		<where>
			<if test="userType != null and userType != '' and userType != '0'">
				and user_type=#{userType}
			</if>
			<if test="userName != null and userName != ''">
				and user_name like #{userName}
			</if>
		</where> -->
		<!--  limit #{start},#{length}-->
	<!-- </select> -->
	
	<!-- <select id="getCount" parameterType="UserInfo" resultType="Long">
		select count(*) from user_info
		<where>
			<if test="userType != null and userType != '' and userType != '0'">
				and user_type=#{userType}
			</if>
			<if test="userName != null and userName != ''">
				and user_name like #{userName}
			</if>
		</where>
	</select>
	
	<select id="getUserInfo" parameterType="UserInfo" resultMap="usermap">
		select * from user_info
		<where>
			<if test="userId != null and userId != ''">
				and user_id = #{userId}
			</if>
			<if test="userPhone != null and userPhone != ''">
				and user_phone = #{userPhone}
			</if>
			<if test="userPw != null and userPw != ''">
				and user_pw = #{userPw}
			</if>
		</where>
	</select>
	
	<select id="login" parameterType="UserInfo" resultMap="usermap">
		select * from user_info where user_phone=#{userPhone}
		and user_pw=#{userPw}
	</select> -->
</mapper>